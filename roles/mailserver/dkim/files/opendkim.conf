#   -------------------------------------------------------------
#   OpenDKIM
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#   Project:        Nasqueron
#   License:        Trivial work, not eligible to copyright
#   Source file:    roles/mailserver/dkim/files/opendkim.conf
#   -------------------------------------------------------------
#
#   <auto-generated>
#       This file is managed by our rOPS SaltStack repository.
#
#       Changes to this file may cause incorrect behavior
#       and will be lost if the state is redeployed.
#   </auto-generated>

#   -------------------------------------------------------------
#   Socket
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Socket local:{{ socket }}
UMask 002

PidFile /var/run/opendkim.pid

#   -------------------------------------------------------------
#   Tables
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

SigningTable file:{{ dirs.etc }}/opendkim/SigningTable
KeyTable file:{{ dirs.etc }}/opendkim/KeyTable

#   -------------------------------------------------------------
#   Signing
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

Mode sv
SignatureAlgorithm rsa-sha256

ExternalIgnoreList refile:{{ dirs.etc }}/opendkim/TrustedHosts
InternalHosts refile:{{ dirs.etc }}/opendkim/TrustedHosts

#   -------------------------------------------------------------
#   Log
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

SysLog Yes
SyslogFacility mail
SyslogSuccess false
