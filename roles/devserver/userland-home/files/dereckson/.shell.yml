#   -------------------------------------------------------------
#   Shell launcher configuration
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#   Project:        Nasqueron
#   Created:        2018-09-21
#   License:        Trivial work, not eligible to copyright
#   Source file:    roles/devserver/userland-home/files/dereckson/.shell.yml
#   -------------------------------------------------------------
#
#   <auto-generated>
#       This file is managed by our rOPS SaltStack repository.
#
#       Changes to this file may cause incorrect behavior
#       and will be lost if the state is redeployed.
#   </auto-generated>

#   -------------------------------------------------------------
#   Aliases
#
#   Allow to quickly call an handler with extra arguments
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

aliases:

  acquisitariat:
    command: ['ssh', '-t', 'equatower.nasqueron.org', 'sudo', 'docker', 'exec', '-it', 'acquisitariat', 'mysql']

  cd:
    handler: equatower
    args: ['jenkins_cd']

  devcentral:
    handler: equatower
    args: ['devcentral']

#   -------------------------------------------------------------
#   Handlers
#   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

handlers:

  dwellers:
    server: "dwellers.nasqueron.org"
    command: ['docker', 'exec', '-it', '{{%s}}', '{{%s-|bash}}']
    interactive: True

  equatower:
    server: "equatower.nasqueron.org"
    command: ['sudo', 'docker', 'exec', '-it', '{{%s}}', '{{%s-|bash}}']
    interactive: True

  mysql:
    server: "equatower.nasqueron.org"
    command: ['sudo', 'docker', 'exec', '-it', '{{%s}}', '{{%s-|mysql}}']
    interactive: True

  phpbb:
    server: "equatower.nasqueron.org"
    command: ['sudo', 'phpbb']
    interactive: True

  tools:
    server: "dev.tools.wmflabs.org"
    command: ['become', '{{%s}}', '{{%s-|}}']
    interactive: True
